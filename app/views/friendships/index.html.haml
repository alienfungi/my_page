- provide :title, "Friends"

%ul#friendship_tabs.nav.nav-tabs
  = content_tag :li, class: (@active_tab == "mutual" ? "active" : "") do
    %a{href: "#mutual", data: {toggle: "tab"}} Mutual
  = content_tag :li, class: (@active_tab == "requests" ? "active" : "") do
    %a{href: "#requests", data: {toggle: "tab"}} Requests
  = content_tag :li, class: (@active_tab == "pending" ? "active" : "") do
    %a{href: "#pending", data: {toggle: "tab"}} Pending

.tab-content
  = content_tag :div, id: 'mutual', class: "tab-pane#{' active' if @active_tab == 'mutual'}" do
    %br
    - if @mutual.blank?
      %h2 No friends :(
    - else
      %ul
        = render partial: 'friendship', collection: @mutual, as: :friendship
      .pull-right
        = will_paginate @mutual, param_name: :mutual_page, params: {active_tab: "mutual"}

  = content_tag :div, id: 'requests', class: "tab-pane#{' active' if @active_tab == 'requests'}" do
    %br
    - if @requests.blank?
      %h2 No one is awaiting approval from you
    - else
      %ul
        = render partial: 'request', collection: @requests, as: :friendship
      .pull-right
        = will_paginate @requests, param_name: :requests_page, params: {active_tab: "requests"}

  = content_tag :div, id: 'pending', class: "tab-pane#{' active' if @active_tab == 'pending'}" do
    %br
    - if @pending.blank?
      %h2 You are not awaiting approval from anyone
    - else
      %ul
        = render partial: 'pending', collection: @pending, as: :friendship
      .pull-right
        = will_paginate @pending, param_name: :pending_page, params: {active_tab: "pending"}

